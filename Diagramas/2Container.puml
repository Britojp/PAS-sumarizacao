@startuml Container Summary
/' !include <C4/C4_Container.puml> '/
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml
!theme C4Language_portuguese from https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/themes /' Não parece estar funcionado? '/

AddElementTag("backendContainer", $fontColor=$ELEMENT_FONT_COLOR, $bgColor="#335DA5", $shape=EightSidedShape(), $legendText="backend container (eight sided)")
AddRelTag("async", $textColor=$ARROW_FONT_COLOR, $lineColor=$ARROW_COLOR, $lineStyle=DashedLine())
AddRelTag("sync/async", $textColor=$ARROW_FONT_COLOR, $lineColor=$ARROW_COLOR, $lineStyle=DottedLine())
SHOW_PERSON_OUTLINE()
/' LAYOUT_LANDSCAPE()  '/ /' Opcional fica em retrato '/

title Diagrama de Container do Sistema de Sumarização

Person(usuario, "Usuário", "Usuário que usa o sistema para facilitar a análise de videos.")

System_Boundary(sistema_sumario, "[Container] Sistema de sumarização de video") {
    Container(aplicacao_web, "Aplicação Web", "","Aplicação web")
    Container(processador_video, "Processador de video", "", "Extração de frames e audio")
    Container(analise_frames, "Análise de Frames", "", "Análise visual do vídeo para sumarização")
    Container(analise_texto, "Análise de texto", "", "Análise e sumarização dos textos recebidos")
}

System_Ext(input, "Plataformas digitais,", "Input de videos.")
System_Ext(database, "Banco de dados", "Armazena os videos e seus respectivos sumários.")
System_Ext(api_llm, "API de LLM", "Provedor da LLM utilizada pelo sistema.")

Rel(aplicacao_web, usuario, "Envia sumários")
Rel(input, aplicacao_web, "Envia os videos")
Rel(aplicacao_web, processador_video, "Upload e processamento do video")
Rel(processador_video, database, "Utiliza para armazenamento")
Rel(api_llm,analise_texto, "Utiliza da transcrição do audio para finalizar o sumário")
Rel(analise_texto, database, "Utiliza para armazenamento")
Rel(analise_frames, analise_texto, "Utiliza os dados extraidos para o sumario")


Rel(processador_video, api_llm, "Envia o audio para ser transcrito",$tags="async")
Rel(processador_video, analise_frames, "Envia frames extraídos para análise",$tags="async")

SHOW_LEGEND()

@enduml
